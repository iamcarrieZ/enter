{"version":3,"sources":["../bower_components/imagesloaded/imagesloaded.js"],"names":["window","factory","define","amd","EvEmitter","module","exports","require","imagesLoaded","extend","a","b","prop","makeArray","obj","ary","Array","isArray","length","i","push","ImagesLoaded","elem","options","onAlways","this","document","querySelectorAll","elements","on","getImages","$","jqDeferred","Deferred","setTimeout","check","bind","LoadingImage","img","Background","url","element","Image","jQuery","console","prototype","Object","create","images","forEach","addElementImages","nodeName","addImage","background","addElementBackgroundImages","nodeType","elementNodeTypes","childImgs","children","child","1","9","11","style","getComputedStyle","reURL","matches","exec","backgroundImage","addBackground","loadingImage","onProgress","image","message","_this","progress","progressedCount","hasAnyBroken","once","complete","isLoaded","emitEvent","notify","debug","log","eventName","isComplete","jqMethod","getIsImageComplete","confirm","naturalWidth","proxyImage","addEventListener","src","undefined","handleEvent","event","method","type","onload","unbindEvents","onerror","removeEventListener","makeJQueryPlugin","fn","callback","instance","promise"],"mappings":"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","file":"imagesloaded.js","sourcesContent":["/*!\n * imagesLoaded v4.1.0\n * JavaScript is all like \"You images are done yet or what?\"\n * MIT License\n */\n\n( function( window, factory ) { 'use strict';\n  // universal module definition\n\n  /*global define: false, module: false, require: false */\n\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'ev-emitter/ev-emitter'\n    ], function( EvEmitter ) {\n      return factory( window, EvEmitter );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('ev-emitter')\n    );\n  } else {\n    // browser global\n    window.imagesLoaded = factory(\n      window,\n      window.EvEmitter\n    );\n  }\n\n})( window,\n\n// --------------------------  factory -------------------------- //\n\nfunction factory( window, EvEmitter ) {\n\n'use strict';\n\nvar $ = window.jQuery;\nvar console = window.console;\n\n// -------------------------- helpers -------------------------- //\n\n// extend objects\nfunction extend( a, b ) {\n  for ( var prop in b ) {\n    a[ prop ] = b[ prop ];\n  }\n  return a;\n}\n\n// turn element or nodeList into an array\nfunction makeArray( obj ) {\n  var ary = [];\n  if ( Array.isArray( obj ) ) {\n    // use object if already an array\n    ary = obj;\n  } else if ( typeof obj.length == 'number' ) {\n    // convert nodeList to array\n    for ( var i=0; i < obj.length; i++ ) {\n      ary.push( obj[i] );\n    }\n  } else {\n    // array of single index\n    ary.push( obj );\n  }\n  return ary;\n}\n\n// -------------------------- imagesLoaded -------------------------- //\n\n/**\n * @param {Array, Element, NodeList, String} elem\n * @param {Object or Function} options - if function, use as callback\n * @param {Function} onAlways - callback function\n */\nfunction ImagesLoaded( elem, options, onAlways ) {\n  // coerce ImagesLoaded() without new, to be new ImagesLoaded()\n  if ( !( this instanceof ImagesLoaded ) ) {\n    return new ImagesLoaded( elem, options, onAlways );\n  }\n  // use elem as selector string\n  if ( typeof elem == 'string' ) {\n    elem = document.querySelectorAll( elem );\n  }\n\n  this.elements = makeArray( elem );\n  this.options = extend( {}, this.options );\n\n  if ( typeof options == 'function' ) {\n    onAlways = options;\n  } else {\n    extend( this.options, options );\n  }\n\n  if ( onAlways ) {\n    this.on( 'always', onAlways );\n  }\n\n  this.getImages();\n\n  if ( $ ) {\n    // add jQuery Deferred object\n    this.jqDeferred = new $.Deferred();\n  }\n\n  // HACK check async to allow time to bind listeners\n  setTimeout( function() {\n    this.check();\n  }.bind( this ));\n}\n\nImagesLoaded.prototype = Object.create( EvEmitter.prototype );\n\nImagesLoaded.prototype.options = {};\n\nImagesLoaded.prototype.getImages = function() {\n  this.images = [];\n\n  // filter & find items if we have an item selector\n  this.elements.forEach( this.addElementImages, this );\n};\n\n/**\n * @param {Node} element\n */\nImagesLoaded.prototype.addElementImages = function( elem ) {\n  // filter siblings\n  if ( elem.nodeName == 'IMG' ) {\n    this.addImage( elem );\n  }\n  // get background image on element\n  if ( this.options.background === true ) {\n    this.addElementBackgroundImages( elem );\n  }\n\n  // find children\n  // no non-element nodes, #143\n  var nodeType = elem.nodeType;\n  if ( !nodeType || !elementNodeTypes[ nodeType ] ) {\n    return;\n  }\n  var childImgs = elem.querySelectorAll('img');\n  // concat childElems to filterFound array\n  for ( var i=0; i < childImgs.length; i++ ) {\n    var img = childImgs[i];\n    this.addImage( img );\n  }\n\n  // get child background images\n  if ( typeof this.options.background == 'string' ) {\n    var children = elem.querySelectorAll( this.options.background );\n    for ( i=0; i < children.length; i++ ) {\n      var child = children[i];\n      this.addElementBackgroundImages( child );\n    }\n  }\n};\n\nvar elementNodeTypes = {\n  1: true,\n  9: true,\n  11: true\n};\n\nImagesLoaded.prototype.addElementBackgroundImages = function( elem ) {\n  var style = getComputedStyle( elem );\n  if ( !style ) {\n    // Firefox returns null if in a hidden iframe https://bugzil.la/548397\n    return;\n  }\n  // get url inside url(\"...\")\n  var reURL = /url\\((['\"])?(.*?)\\1\\)/gi;\n  var matches = reURL.exec( style.backgroundImage );\n  while ( matches !== null ) {\n    var url = matches && matches[2];\n    if ( url ) {\n      this.addBackground( url, elem );\n    }\n    matches = reURL.exec( style.backgroundImage );\n  }\n};\n\n/**\n * @param {Image} img\n */\nImagesLoaded.prototype.addImage = function( img ) {\n  var loadingImage = new LoadingImage( img );\n  this.images.push( loadingImage );\n};\n\nImagesLoaded.prototype.addBackground = function( url, elem ) {\n  var background = new Background( url, elem );\n  this.images.push( background );\n};\n\nImagesLoaded.prototype.check = function() {\n  var _this = this;\n  this.progressedCount = 0;\n  this.hasAnyBroken = false;\n  // complete if no images\n  if ( !this.images.length ) {\n    this.complete();\n    return;\n  }\n\n  function onProgress( image, elem, message ) {\n    // HACK - Chrome triggers event before object properties have changed. #83\n    setTimeout( function() {\n      _this.progress( image, elem, message );\n    });\n  }\n\n  this.images.forEach( function( loadingImage ) {\n    loadingImage.once( 'progress', onProgress );\n    loadingImage.check();\n  });\n};\n\nImagesLoaded.prototype.progress = function( image, elem, message ) {\n  this.progressedCount++;\n  this.hasAnyBroken = this.hasAnyBroken || !image.isLoaded;\n  // progress event\n  this.emitEvent( 'progress', [ this, image, elem ] );\n  if ( this.jqDeferred && this.jqDeferred.notify ) {\n    this.jqDeferred.notify( this, image );\n  }\n  // check if completed\n  if ( this.progressedCount == this.images.length ) {\n    this.complete();\n  }\n\n  if ( this.options.debug && console ) {\n    console.log( 'progress: ' + message, image, elem );\n  }\n};\n\nImagesLoaded.prototype.complete = function() {\n  var eventName = this.hasAnyBroken ? 'fail' : 'done';\n  this.isComplete = true;\n  this.emitEvent( eventName, [ this ] );\n  this.emitEvent( 'always', [ this ] );\n  if ( this.jqDeferred ) {\n    var jqMethod = this.hasAnyBroken ? 'reject' : 'resolve';\n    this.jqDeferred[ jqMethod ]( this );\n  }\n};\n\n// --------------------------  -------------------------- //\n\nfunction LoadingImage( img ) {\n  this.img = img;\n}\n\nLoadingImage.prototype = Object.create( EvEmitter.prototype );\n\nLoadingImage.prototype.check = function() {\n  // If complete is true and browser supports natural sizes,\n  // try to check for image status manually.\n  var isComplete = this.getIsImageComplete();\n  if ( isComplete ) {\n    // report based on naturalWidth\n    this.confirm( this.img.naturalWidth !== 0, 'naturalWidth' );\n    return;\n  }\n\n  // If none of the checks above matched, simulate loading on detached element.\n  this.proxyImage = new Image();\n  this.proxyImage.addEventListener( 'load', this );\n  this.proxyImage.addEventListener( 'error', this );\n  // bind to image as well for Firefox. #191\n  this.img.addEventListener( 'load', this );\n  this.img.addEventListener( 'error', this );\n  this.proxyImage.src = this.img.src;\n};\n\nLoadingImage.prototype.getIsImageComplete = function() {\n  return this.img.complete && this.img.naturalWidth !== undefined;\n};\n\nLoadingImage.prototype.confirm = function( isLoaded, message ) {\n  this.isLoaded = isLoaded;\n  this.emitEvent( 'progress', [ this, this.img, message ] );\n};\n\n// ----- events ----- //\n\n// trigger specified handler for event type\nLoadingImage.prototype.handleEvent = function( event ) {\n  var method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\nLoadingImage.prototype.onload = function() {\n  this.confirm( true, 'onload' );\n  this.unbindEvents();\n};\n\nLoadingImage.prototype.onerror = function() {\n  this.confirm( false, 'onerror' );\n  this.unbindEvents();\n};\n\nLoadingImage.prototype.unbindEvents = function() {\n  this.proxyImage.removeEventListener( 'load', this );\n  this.proxyImage.removeEventListener( 'error', this );\n  this.img.removeEventListener( 'load', this );\n  this.img.removeEventListener( 'error', this );\n};\n\n// -------------------------- Background -------------------------- //\n\nfunction Background( url, element ) {\n  this.url = url;\n  this.element = element;\n  this.img = new Image();\n}\n\n// inherit LoadingImage prototype\nBackground.prototype = Object.create( LoadingImage.prototype );\n\nBackground.prototype.check = function() {\n  this.img.addEventListener( 'load', this );\n  this.img.addEventListener( 'error', this );\n  this.img.src = this.url;\n  // check if image is already complete\n  var isComplete = this.getIsImageComplete();\n  if ( isComplete ) {\n    this.confirm( this.img.naturalWidth !== 0, 'naturalWidth' );\n    this.unbindEvents();\n  }\n};\n\nBackground.prototype.unbindEvents = function() {\n  this.img.removeEventListener( 'load', this );\n  this.img.removeEventListener( 'error', this );\n};\n\nBackground.prototype.confirm = function( isLoaded, message ) {\n  this.isLoaded = isLoaded;\n  this.emitEvent( 'progress', [ this, this.element, message ] );\n};\n\n// -------------------------- jQuery -------------------------- //\n\nImagesLoaded.makeJQueryPlugin = function( jQuery ) {\n  jQuery = jQuery || window.jQuery;\n  if ( !jQuery ) {\n    return;\n  }\n  // set local variable\n  $ = jQuery;\n  // $().imagesLoaded()\n  $.fn.imagesLoaded = function( options, callback ) {\n    var instance = new ImagesLoaded( this, options, callback );\n    return instance.jqDeferred.promise( $(this) );\n  };\n};\n// try making plugin\nImagesLoaded.makeJQueryPlugin();\n\n// --------------------------  -------------------------- //\n\nreturn ImagesLoaded;\n\n});\n"],"sourceRoot":"assets/scripts/"}